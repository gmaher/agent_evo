{
  "tools": [
    {
      "id": "file_reader",
      "name": "read_file",
      "description": "Reads the contents of a file",
      "parameters": [
        {
          "name": "file_path",
          "type": "string",
          "description": "Path of the file to read",
          "required": true
        },
        {
          "name": "encoding",
          "type": "string",
          "description": "File encoding",
          "required": false,
          "default": "utf-8"
        }
      ],
      "returns": {
        "type": "string",
        "description": "Contents of the file"
      },
      "code": "def read_file(file_path, encoding='utf-8'):\\n    try:\\n        with open(file_path, 'r', encoding=encoding) as file:\\n            return file.read()\\n    except FileNotFoundError:\\n        return f'Error: File not found {file_path}'\\n    except Exception as e:\\n        return f'Error reading file {file_path}: {str(e)}'"
    },
    {
      "id": "csv_analyzer",
      "name": "analyze_csv",
      "description": "Computes failure rates from metrics.csv",
      "parameters": [
        {
          "name": "csv_content",
          "type": "string",
          "description": "Content of the CSV file",
          "required": true
        }
      ],
      "returns": {
        "type": "object",
        "description": "Analysis of CSV including failure rates and trends"
      },
      "code": "import csv\\nimport io\\nfrom collections import defaultdict\\n\\ndef analyze_csv(csv_content):\\n    try:\\n        reader = csv.DictReader(io.StringIO(csv_content))\\n        daily_failures = defaultdict(lambda: {'failed': 0, 'total': 0})\\n        for row in reader:\\n            date = row['date']\\n            daily_failures[date]['failed'] += int(row['failed'])\\n            daily_failures[date]['total'] += int(row['total'])\\n        analysis = {}\\n        for date, counts in daily_failures.items():\\n            failed = counts['failed']\\n            total = counts['total']\\n            failure_rate = failed / total if total > 0 else 0\\n            analysis[date] = {'failed': failed, 'total': total, 'failure_rate': failure_rate}\\n        return analysis\\n    except Exception as e:\\n        return f'Error analyzing CSV: {str(e)}'"
    },
    {
      "id": "file_writer",
      "name": "write_file",
      "description": "Writes content to a file",
      "parameters": [
        {
          "name": "file_path",
          "type": "string",
          "description": "File path to write to",
          "required": true
        },
        {
          "name": "content",
          "type": "string",
          "description": "Content to write to the file",
          "required": true
        },
        {
          "name": "mode",
          "type": "string",
          "description": "Writing mode, e.g., 'w' for overwrite",
          "required": false,
          "default": "w"
        }
      ],
      "returns": {
        "type": "string",
        "description": "Success message or error"
      },
      "code": "def write_file(file_path, content, mode='w'):\\n    try:\\n        with open(file_path, mode) as file:\\n            file.write(content)\\n        return f'Successfully wrote to {file_path}'\\n    except Exception as e:\\n        return f'Error writing to file {file_path}: {str(e)}'"
    }
  ]
}